    <!DOCTYPE html>
    <html lang="tr">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sayı Okuyucu - Çoklu Dil Desteği ile Sayıları Sesli Okuyun</title>
    
    <!-- React ve ReactDOM CDN -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Vercel Analytics -->
    <script src="https://unpkg.com/@vercel/analytics@1.1.1/dist/analytics.min.js"></script>
    
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3050374663523366"
        crossorigin="anonymous"></script>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Sayı Okuyucu ile farklı dillerde sayıları sesli olarak dinleyin. Türkçe, İngilizce, Almanca, Fransızca ve daha birçok dil desteği ile sayıları kolayca öğrenin.">
    <meta name="keywords" content="sayı okuyucu, sesli sayı okuma, dil öğrenme, sayı öğrenme, çoklu dil desteği, Türkçe sayılar, İngilizce sayılar">
    <meta name="author" content="Sayı Okuyucu">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://fast-number-reader.vercel.app/">
    <meta property="og:title" content="Sayı Okuyucu - Çoklu Dil Desteği ile Sayıları Sesli Okuyun">
    <meta property="og:description" content="Sayı Okuyucu ile farklı dillerde sayıları sesli olarak dinleyin. Türkçe, İngilizce, Almanca, Fransızca ve daha birçok dil desteği ile sayıları kolayca öğrenin.">
    <meta property="og:image" content="https://fast-number-reader.vercel.app/images/world.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://fast-number-reader.vercel.app/">
    <meta property="twitter:title" content="Sayı Okuyucu - Çoklu Dil Desteği ile Sayıları Sesli Okuyun">
    <meta property="twitter:description" content="Sayı Okuyucu ile farklı dillerde sayıları sesli olarak dinleyin. Türkçe, İngilizce, Almanca, Fransızca ve daha birçok dil desteği ile sayıları kolayca öğrenin.">
    <meta property="twitter:image" content="https://fast-number-reader.vercel.app/images/world.png">

    <link rel="icon" type="image/png" href="images/world.png">
    <link rel="apple-touch-icon" href="images/world.png">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://fast-number-reader.vercel.app/">
        <style>
            :root {
                /* Renkler */
                --primary: #2563eb;
                --secondary: #3b82f6;
                --text-light: #e2e8f0;
                --text-dark: #1e293b;
                --bg-light: #f8fafc;
                --bg-dark: #0f172a;
                --card-light: #ffffff;
                --card-dark: #1e293b;
                --border-light: #e2e8f0;
                --border-dark: #334155;
                --input-bg-light: #ffffff;
                --input-bg-dark: #1e293b;
                --shadow-light: rgba(0,0,0,0.03);
                --shadow-dark: rgba(0,0,0,0.3);
                --hover-light: rgba(37,99,235,0.05);
                --hover-dark: rgba(59,130,246,0.1);
                --glow-light: 0 0 20px rgba(37,99,235,0.1);
                --glow-dark: 0 0 20px rgba(59,130,246,0.2);
            }

            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
                margin: 0;
                padding: 0;
                background: var(--bg-light);
                color: var(--text-dark);
                transition: all 0.3s;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
                text-rendering: optimizeLegibility;
                background-image: 
                    radial-gradient(circle at 10% 20%, rgba(79,70,229,0.03) 0%, transparent 20%),
                    radial-gradient(circle at 90% 80%, rgba(99,102,241,0.03) 0%, transparent 20%);
                min-height: 100vh;
            }

            body.dark-mode {
                background: var(--bg-dark);
                color: var(--text-light);
                background-image: 
                    radial-gradient(circle at 10% 20%, rgba(122,162,247,0.05) 0%, transparent 20%),
                    radial-gradient(circle at 90% 80%, rgba(187,154,247,0.05) 0%, transparent 20%);
            }

        .container {
            max-width: 650px;
            margin: 0 auto;
            width: 100%;
            padding: 20px;
            box-sizing: border-box;
            position: relative;
        }

        /* AdSense Blokları */
        .ad-container {
            position: fixed;
            top: 20px;
            width: 160px;
            background: var(--card-light);
            border-radius: 8px;
            padding: 10px;
            box-shadow: 0 4px 6px var(--shadow-light);
            z-index: 100;
        }

        .ad-left {
            left: 20px;
        }

        .ad-right {
            right: 20px;
        }

        body.dark-mode .ad-container {
            background: var(--card-dark);
            box-shadow: 0 4px 6px var(--shadow-dark);
        }

        @media (max-width: 1200px) {
            .ad-container {
                display: none;
            }
        }

        /* AdSense Responsive */
        .ad-container ins {
            display: block;
            width: 100%;
            height: 600px;
            margin: 0 auto;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 15px;
        }

        h1 {
            margin: 0;
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-size: 2.2rem;
            font-weight: 800;
            letter-spacing: -0.5px;
        }

        h1 span:first-child {
            opacity: 0.7;
            filter: brightness(0.8);
            transition: all 0.3s ease;
        }

        body.dark-mode h1 span:first-child {
            opacity: 0.9;
            filter: brightness(1.2);
        }

        h1:hover span:first-child {
            opacity: 0.9;
            filter: brightness(1.1);
        }

        .control-card {
            background: var(--card-light);
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 30px var(--shadow-light), var(--glow-light);
            margin-bottom: 25px;
            transition: all 0.3s;
            border: 1px solid var(--border-light);
        }

        body.dark-mode .control-card {
            background: var(--card-dark);
            box-shadow: 0 10px 30px var(--shadow-dark), var(--glow-dark);
            border: 1px solid var(--border-dark);
        }

        .control-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 35px var(--shadow-light), var(--glow-light);
        }

        .control-row {
            display: flex;
            align-items: center;
            margin: 18px 0;
            flex-wrap: wrap;
            gap: 15px;
        }

        .control-label {
            flex: 1;
            min-width: 150px;
            font-weight: 600;
            color: #4a5568;
            font-size: 1.1rem;
            letter-spacing: -0.2px;
        }

        body.dark-mode .control-label {
            color: var(--text-light);
        }

        input[type="number"] {
            padding: 10px;
            border: 1px solid var(--border-light);
            border-radius: 8px;
            width: 100px;
            font-size: 1rem;
            transition: all 0.3s;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            letter-spacing: -0.1px;
            background: var(--input-bg-light);
        }

        body.dark-mode input[type="number"] {
            background: var(--input-bg-dark);
            border-color: var(--border-dark);
            color: var(--text-light);
        }

        /* Sayı oklarını kaldırma */
        input[type="number"]::-webkit-inner-spin-button,
        input[type="number"]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        input[type="number"] {
            -moz-appearance: textfield;
        }

        select {
            padding: 10px;
            border: 1px solid var(--border-light);
            border-radius: 8px;
            font-size: 1rem;
            background: var(--input-bg-light);
            cursor: pointer;
            transition: all 0.3s;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            letter-spacing: -0.1px;
        }

        body.dark-mode select {
            background: var(--input-bg-dark);
            border-color: var(--border-dark);
            color: var(--text-light);
        }

            button {
            padding: 12px 25px;
            font-size: 1rem;
            font-weight: 600;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            margin: 8px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            letter-spacing: -0.2px;
        }

        #startBtn {
                background: linear-gradient(45deg, var(--primary), var(--secondary));
                color: white;
            box-shadow: 0 5px 15px rgba(79,70,229,0.2);
        }

        #stopBtn {
            background: linear-gradient(45deg, #ef4444, #f87171);
            color: white;
            box-shadow: 0 5px 15px rgba(239,68,68,0.2);
            }

            button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }

        button:active {
            transform: translateY(1px);
        }

        #resultDisplay {
            font-size: 3.5rem;
            font-weight: 800;
            margin: 25px 0;
            padding: 25px;
            background: linear-gradient(135deg, rgba(79,70,229,0.03), rgba(99,102,241,0.03));
            border-radius: 12px;
            text-align: center;
            transition: all 0.3s;
            letter-spacing: -1px;
            line-height: 1.2;
            position: relative;
            border: 1px solid var(--border-light);
            cursor: pointer;
            user-select: none;
        }

        #resultDisplay:hover {
            background: linear-gradient(135deg, rgba(79,70,229,0.05), rgba(99,102,241,0.05));
        }

        #resultDisplay.copied {
            animation: copyAnimation 0.5s ease-in-out;
        }

        @keyframes copyAnimation {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); background: linear-gradient(135deg, rgba(79,70,229,0.1), rgba(99,102,241,0.1)); }
            100% { transform: scale(1); }
        }

        .theme-toggle {
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            border: none;
            color: white;
            padding: 8px 15px;
            border-radius: 50px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .theme-toggle:hover {
                transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
        }

        .speed-control {
            display: flex;
            align-items: center;
            gap: 10px;
            flex: 2;
        }

        input[type="range"] {
            -webkit-appearance: none;
            width: 100%;
            height: 8px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            border-radius: 10px;
            outline: none;
            opacity: 0.7;
            transition: opacity 0.2s;
        }

        input[type="range"]:hover {
            opacity: 1;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        body:not(.dark-mode) input[type="range"] {
            -webkit-appearance: none;
            width: 100%;
            height: 8px;
            border-radius: 4px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            outline: none;
        }
        
        body:not(.dark-mode) input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: white;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        body:not(.dark-mode) input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: white;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        body.dark-mode input[type="range"] {
            background: linear-gradient(90deg, #7aa2f7, #bb9af7);
        }

        body.dark-mode input[type="range"]::-webkit-slider-thumb {
            background: white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        body.dark-mode input[type="range"]::-moz-range-thumb {
            background: white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        .value-display {
            font-weight: 700;
            min-width: 50px;
            display: inline-block;
            text-align: center;
            font-size: 1.1rem;
            letter-spacing: -0.2px;
        }

        @media (max-width: 600px) {
            .header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            #resultDisplay {
                font-size: 2.5rem;
            }
            
            .control-label {
                font-size: 1rem;
            }
            
            .value-display {
                font-size: 1rem;
            }
        }

        /* Dil seçimi devre dışı bırakıldığında stil */
            select:disabled {
            background-color: #f0f0f0;
                cursor: not-allowed;
                opacity: 0.7;
            pointer-events: none;
        }
        
        /* Dil seçimi etiket stili */
        .control-label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: var(--text-dark);
        }
        
        /* Dil seçimi container stili */
        .language-container {
            position: relative;
        }
        
        /* Uyarı mesajı stili */
        .language-warning {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background-color: #ff4757;
            color: white;
            padding: 5px;
            border-radius: 4px;
            font-size: 12px;
            text-align: center;
            display: none;
            margin-top: 5px;
            }

        .history-section {
            margin-top: 30px;
            padding: 15px;
            background: var(--card-light);
            border-radius: 15px;
            box-shadow: 0 10px 30px var(--shadow-light);
            transition: all 0.3s;
            border: 1px solid var(--border-light);
            text-align: center;
            position: relative;
            min-height: 80px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            width: 100%;
            box-sizing: border-box;
        }

        body.dark-mode .history-section {
            background: var(--card-dark);
            box-shadow: 0 10px 30px var(--shadow-dark), var(--glow-dark);
            border: 1px solid var(--border-dark);
        }

        .history-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--text-dark);
            text-align: center;
            transition: opacity 0.3s ease;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100%;
        }

        body.dark-mode .history-title {
            color: var(--text-light);
        }

        .history-list {
            max-height: 80px;
            overflow-y: auto;
            padding: 8px;
            background: rgba(79,70,229,0.02);
            border-radius: 10px;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
            gap: 6px;
            scrollbar-width: thin;
            scrollbar-color: var(--primary) rgba(79,70,229,0.05);
            opacity: 0;
            transition: opacity 0.3s ease;
            width: 100%;
            box-sizing: border-box;
        }

        body.dark-mode .history-list {
            background: rgba(36,40,59,0.3);
            scrollbar-color: var(--border-dark) rgba(36,40,59,0.5);
        }

        .history-item {
            padding: 4px 8px;
            border-radius: 5px;
            background: rgba(255,255,255,0.9);
            transition: all 0.3s;
            border: 1px solid var(--border-light);
            position: relative;
            cursor: pointer;
            text-align: center;
            margin: 0;
            white-space: nowrap;
            box-sizing: border-box;
            min-width: 0;
            overflow: hidden;
            text-overflow: ellipsis;
            font-size: 0.9rem;
        }

        body.dark-mode .history-item {
            background: rgba(36,40,59,0.5);
            border: 1px solid var(--border-dark);
        }

        .history-item:hover {
            background: var(--hover-light);
            transform: translateY(-2px);
        }

        body.dark-mode .history-item:hover {
            background: var(--hover-dark);
        }

        .history-item .number {
            font-weight: 600;
            color: var(--primary);
        }

        .history-list.active {
            opacity: 1;
        }

        /* Webkit (Chrome, Safari) için scrollbar stilleri */
        .history-list::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        .history-list::-webkit-scrollbar-track {
            background: rgba(36,40,59,0.5);
        }

        .history-list::-webkit-scrollbar-thumb {
            background: var(--border-dark);
            border: 2px solid rgba(36,40,59,0.5);
        }

        .history-list::-webkit-scrollbar-thumb:hover {
            background: var(--primary);
        }

        .stats-container {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
            padding: 15px;
            background: rgba(79,70,229,0.03);
            border-radius: 10px;
            border: 1px solid var(--border-light);
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
        }

        .stat-label {
            font-size: 0.8rem;
            color: var(--text-dark);
            opacity: 0.7;
        }

        body.dark-mode #resultDisplay {
            background: linear-gradient(135deg, rgba(36,40,59,0.5), rgba(26,27,38,0.5));
            border: 1px solid var(--border-dark);
            color: var(--text-light);
        }

        body.dark-mode .stats-container {
            background: rgba(36,40,59,0.5);
            border: 1px solid var(--border-dark);
        }

        body.dark-mode .stat-value {
            color: var(--text-light);
        }

        body.dark-mode .stat-label {
            color: var(--text-light);
            opacity: 0.7;
        }

        /* İzin İsteme Modalı */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: var(--card-light);
            padding: 30px;
            border-radius: 15px;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 10px 30px var(--shadow-light);
            text-align: center;
        }

        body.dark-mode .modal-content {
            background: var(--card-dark);
            box-shadow: 0 10px 30px var(--shadow-dark);
        }

        .modal h2 {
            margin-top: 0;
            color: var(--primary);
        }

        .modal p {
            margin: 15px 0;
            line-height: 1.5;
        }

        .modal ul {
            text-align: left;
            margin: 15px 0;
            padding-left: 20px;
        }

        .modal-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 20px;
        }

        .primary-button {
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .secondary-button {
            background: var(--text-light);
            color: var(--text-dark);
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        body.dark-mode .secondary-button {
            background: var(--border-dark);
            color: var(--text-light);
        }

        .primary-button:hover, .secondary-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        /* Bildirim stili */
        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--card-light);
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 5px 15px var(--shadow-light);
            z-index: 1000;
            transform: translateY(100px);
            opacity: 0;
            animation: slideIn 0.5s forwards;
        }

        body.dark-mode .notification {
            background: var(--card-dark);
            box-shadow: 0 5px 15px var(--shadow-dark);
        }

        .notification-content {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .notification-icon {
            font-size: 1.2em;
        }

        .notification-text {
            font-weight: 600;
        }

        @keyframes slideIn {
            from {
                transform: translateY(100px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .fade-out {
            animation: fadeOut 0.5s forwards;
        }

        @keyframes fadeOut {
            from {
                transform: translateY(0);
                opacity: 1;
            }
            to {
                transform: translateY(100px);
                opacity: 0;
            }
        }

        /* Dark mode için stil ekle */
        body.dark-mode input[type="text"] {
            background: linear-gradient(135deg, rgba(36,40,59,0.5), rgba(26,27,38,0.5));
            border: 1px solid var(--border-dark);
            color: var(--text-light);
            box-shadow: 0 4px 6px var(--shadow-dark);
        }

        input[type="text"]:hover {
            background: linear-gradient(135deg, rgba(79,70,229,0.05), rgba(99,102,241,0.05));
            border-color: var(--primary);
            box-shadow: 0 6px 8px var(--shadow-light);
        }

        body.dark-mode input[type="text"]:hover {
            background: linear-gradient(135deg, rgba(36,40,59,0.6), rgba(26,27,38,0.6));
            border-color: var(--secondary);
            box-shadow: 0 6px 8px var(--shadow-dark);
        }

        input[type="text"]:focus {
            outline: none;
            background: linear-gradient(135deg, rgba(79,70,229,0.08), rgba(99,102,241,0.08));
            border-color: var(--primary);
            box-shadow: 0 8px 12px var(--shadow-light);
        }

        body.dark-mode input[type="text"]:focus {
            background: linear-gradient(135deg, rgba(36,40,59,0.7), rgba(26,27,38,0.7));
            border-color: var(--secondary);
            box-shadow: 0 8px 12px var(--shadow-dark);
        }

        body:not(.dark-mode) input[type="text"] {
            background: white;
            border: 1px solid var(--border-light);
            color: var(--text-dark);
        }

        body.dark-mode input[type="text"] {
            background: #1e293b;
            border: 1px solid var(--border-dark);
            color: white;
        }
        </style>
    </head>
    <body>
        <!-- AdSense Blokları -->
        <div class="ad-container ad-left">
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-3050374663523366"
                 data-ad-slot="1234567890"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
        </div>

        <div class="ad-container ad-right">
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-3050374663523366"
                 data-ad-slot="0987654321"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
        </div>

        <!-- İzin İsteme Modalı -->
        <div id="permissionModal" class="modal">
            <div class="modal-content">
                <h2>İzinler Gerekli</h2>
                <p>Sayı Okuyucu uygulamasının düzgün çalışması için aşağıdaki izinlere ihtiyacı vardır:</p>
                <ul>
                    <li>Ses sentezi (text-to-speech) - Sayıları sesli okumak için</li>
                    <li>Panoya kopyalama - Sayıları kopyalamak için</li>
                </ul>
                <p>Bu izinleri vermek ister misiniz?</p>
                <div class="modal-buttons">
                    <button id="grantPermissions" class="primary-button">İzinleri Ver</button>
                    <button id="denyPermissions" class="secondary-button">Daha Sonra</button>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="header">
                <h1><span style="font-size: 1.2em;">🌐</span> <span class="lang-text" data-key="title">Sayı Okuyucu</span></h1>
                <button class="theme-toggle" id="themeToggle">
                    <span id="themeIcon">🌙</span> <span class="lang-text" data-key="theme">Koyu Mod</span>
                </button>
            </div>
            
            <div class="control-card">
                <div class="control-row">
                    <span class="control-label lang-text" data-key="language">Dil Seçimi:</span>
                    <div class="language-container">
                        <select id="languageSelect">
                    <option value="tr-TR">Turkish</option>
                            <option value="en-US">English (US)</option>
                            <option value="en-GB">English (UK)</option>
                            <option value="de-DE">German</option>
                            <option value="fr-FR">French</option>
                            <option value="es-ES">Spanish</option>
                            <option value="ja-JP">Japanese</option>
                            <option value="ru-RU">Russian</option>
                            <option value="zh-CN">Chinese</option>
                            <option value="it-IT">Italian</option>
                </select>
                    </div>
                </div>
                
                <div class="control-row">
                    <span class="control-label lang-text" data-key="range">Sayı Aralığı:</span>
                    <div style="display:flex; gap:10px;">
                        <input type="text" id="minValue" value="100.000" min="0" placeholder="Min" style="text-align: left; font-family: monospace; letter-spacing: 1px; background: #1e293b; border: 1px solid var(--border-dark); color: white; padding: 10px; border-radius: 12px; box-shadow: 0 4px 6px var(--shadow-light); transition: all 0.3s; width: 120px; font-weight: 600;">
                        <span style="align-self:center;">-</span>
                        <input type="text" id="maxValue" value="1.000.000" min="1" placeholder="Max" style="text-align: left; font-family: monospace; letter-spacing: 1px; background: #1e293b; border: 1px solid var(--border-dark); color: white; padding: 10px; border-radius: 12px; box-shadow: 0 4px 6px var(--shadow-light); transition: all 0.3s; width: 120px; font-weight: 600;">
                    </div>
                </div>
                
                <div class="control-row">
                    <span class="control-label lang-text" data-key="speed">Okuma Hızı:</span>
                    <div class="speed-control">
                        <input type="range" id="speedControl" min="0.5" max="5.0" step="0.1" value="1.0">
                        <span id="speedDisplay" class="value-display">1.0x</span>
                    </div>
                </div>
                
                <div class="control-row">
                    <span class="control-label lang-text" data-key="delay">Geçiş Süresi:</span>
                    <div class="speed-control">
                        <input type="range" id="delayControl" min="0" max="5" step="0.5" value="0">
                        <span id="delayDisplay" class="value-display">0s</span>
                    </div>
                </div>

                <div style="text-align:center; margin-top:25px;">
                    <button id="startBtn" class="lang-text" data-key="start">BAŞLAT</button>
                    <button id="stopBtn" disabled class="lang-text" data-key="stop">DURDUR</button>
                </div>
            </div>
            
            <div id="resultDisplay">---</div>

            <div class="history-section">
                <div class="history-title lang-text" data-key="history">Okunan Sayılar</div>
                <div class="history-list" id="historyList"></div>
            </div>

            <!-- İstatistikler -->
            <div class="stats-container">
                <div class="stat-item">
                    <div class="stat-value" id="totalNumbers">0</div>
                    <div class="stat-label">Toplam Sayı</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="totalTime">0</div>
                    <div class="stat-label">Toplam Süre (dk)</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="favoriteLanguage">-</div>
                    <div class="stat-label">En Çok Kullanılan Dil</div>
                </div>
            </div>
        </div>

        <script>
        // İzin isteme fonksiyonu
        async function requestPermissions() {
            const modal = document.getElementById('permissionModal');
            const grantButton = document.getElementById('grantPermissions');
            const denyButton = document.getElementById('denyPermissions');

            return new Promise((resolve) => {
                // Modalı göster
                modal.style.display = 'flex';

                // İzin ver butonuna tıklama
                grantButton.onclick = async () => {
                    try {
                        // Ses sentezi için izin kontrolü
                        if (!window.speechSynthesis) {
                            alert('Tarayıcınız ses sentezi özelliğini desteklemiyor. Lütfen güncel bir tarayıcı kullanın.');
                            modal.style.display = 'none';
                            resolve(false);
                            return;
                        }

                        // Panoya kopyalama için izin kontrolü
                        try {
                            await navigator.permissions.query({ name: 'clipboard-write' });
                        } catch (e) {
                            console.log('Panoya kopyalama izni kontrolü desteklenmiyor');
                        }

                        // Ses sentezi için test konuşması
                        const testSpeech = new SpeechSynthesisUtterance(' ');
                        testSpeech.volume = 0;
                        window.speechSynthesis.speak(testSpeech);

                        // İzinler verildi, özellikleri aktifleştir
                        activateFeatures();

                        modal.style.display = 'none';
                        resolve(true);
                    } catch (error) {
                        console.error('İzin hatası:', error);
                        alert('Sistem izinleri alınamadı. Lütfen tarayıcı ayarlarınızı kontrol edin.');
                        modal.style.display = 'none';
                        resolve(false);
                    }
                };

                // İzin verme butonuna tıklama
                denyButton.onclick = () => {
                    modal.style.display = 'none';
                    resolve(false);
                };
            });
        }

        // Özellikleri aktifleştirme fonksiyonu
        function activateFeatures() {
            // Başlat butonunu aktifleştir
            document.getElementById('startBtn').disabled = false;
            
            // Dil seçimini aktifleştir
            document.getElementById('languageSelect').disabled = false;
            
            // Ses sistemini başlat
            sesleriYukle().then(() => {
                sesiGuncelle();
                console.log('Ses sistemi başlatıldı');
            });

            // Kopyalama özelliğini aktifleştir
            document.getElementById('resultDisplay').addEventListener('click', function() {
                const text = this.textContent;
                navigator.clipboard.writeText(text).then(() => {
                    this.classList.add('copied');
                    setTimeout(() => this.classList.remove('copied'), 500);
                });
            });

            // Kullanıcıya bilgi ver
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.innerHTML = `
                <div class="notification-content">
                    <span class="notification-icon">✅</span>
                    <span class="notification-text">Tüm özellikler aktifleştirildi!</span>
                </div>
            `;
            document.body.appendChild(notification);

            // 3 saniye sonra bildirimi kaldır
            setTimeout(() => {
                notification.classList.add('fade-out');
                setTimeout(() => notification.remove(), 500);
            }, 3000);
        }

        // Tema Değiştirme
        const themeToggle = document.getElementById('themeToggle');
        const themeIcon = document.getElementById('themeIcon');
        
        themeToggle.addEventListener('click', () => {
            document.body.classList.toggle('dark-mode');
            
            if (document.body.classList.contains('dark-mode')) {
                themeIcon.textContent = '☀️';
                themeToggle.innerHTML = '<span id="themeIcon">☀️</span> Açık Mod';
            } else {
                themeIcon.textContent = '🌙';
                themeToggle.innerHTML = '<span id="themeIcon">🌙</span> Koyu Mod';
            }
        });

        // Sistem teması kontrolü
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.body.classList.add('dark-mode');
            themeIcon.textContent = '☀️';
            themeToggle.innerHTML = '<span id="themeIcon">☀️</span> Açık Mod';
        }

        // Dil ve Okuma Sistemi
        const speech = new SpeechSynthesisUtterance();
        const languageSelect = document.getElementById('languageSelect');
        const speedControl = document.getElementById('speedControl');
        const speedDisplay = document.getElementById('speedDisplay');
        const delayControl = document.getElementById('delayControl');
        const delayDisplay = document.getElementById('delayDisplay');
        const resultDisplay = document.getElementById('resultDisplay');

        // Hız Ayarları
        speedControl.addEventListener('input', () => {
            let speed = parseFloat(speedControl.value);
            
            // Türkçe dışındaki diller için hız sınırlaması
            if (languageSelect.value !== 'tr-TR' && speed > 2.0) {
                speed = 2.0;
                speedControl.value = 2.0;
            }
            
            speedDisplay.textContent = speed.toFixed(1) + 'x';
            
            // Turbo mod renk efekti
            if (speed >= 3.0) {
                speedDisplay.style.color = '#ff8a00';
                speech.pitch = 1.4; // Yüksek hızda netlik
            } else {
                speedDisplay.style.color = '#2ecc71';
                speech.pitch = 1.1;
            }
        });

        // Gecikme Ayarları
        delayControl.addEventListener('input', () => {
            delayDisplay.textContent = delayControl.value + 's';
        });

        // Ses Yönetimi
        let sesler = [];
        let seciliSes = null;
        let timeoutID = null;
        let isActive = false;
        let numberHistory = [];

        function sesiGuncelle() {
            const secilenDil = languageSelect.value;
            const uygunSesler = sesler.filter(s => s.lang.startsWith(secilenDil.split('-')[0]));
            const isMac = navigator.platform.includes('Mac');
            const isWindows = navigator.platform.includes('Win');
            const isLinux = navigator.platform.includes('Linux');
            
            // Tüm mevcut sesleri logla
            console.log('Mevcut sesler:', sesler.map(s => `${s.name} (${s.lang})`));
            console.log('Seçilen dil için uygun sesler:', uygunSesler.map(s => `${s.name} (${s.lang})`));
            
            // Dil için uygun ses var mı kontrol et
            if(uygunSesler.length === 0) {
                showVoicePackageNotification(secilenDil);
                return;
            }

            // İşletim sistemine göre ses seçimi
            let seciliSes = null;
            
            if (isMac) {
                seciliSes = findMacVoice(secilenDil, uygunSesler);
            } else if (isWindows) {
                seciliSes = findWindowsVoice(secilenDil, uygunSesler);
                } else {
                seciliSes = findDefaultVoice(secilenDil, uygunSesler);
            }

            // Eğer hala ses bulunamadıysa, alternatif sesleri dene
            if (!seciliSes) {
                seciliSes = findAlternativeVoice(secilenDil, uygunSesler);
            }

            // Seçilen sesi logla
            console.log('Seçilen ses:', seciliSes ? `${seciliSes.name} (${seciliSes.lang})` : 'Bulunamadı');
            
            if (!seciliSes) {
                showVoicePackageNotification(secilenDil);
                return;
                }
                
                speech.voice = seciliSes;
                speech.lang = secilenDil;
                
            // Dil-spesifik ses ayarları
            setVoiceSettings(secilenDil);
        }

        function findAlternativeVoice(lang, voices) {
            // Dil kodunu al (örn: tr-TR -> tr)
            const langCode = lang.split('-')[0];
            
            // Önce aynı dil koduna sahip tüm sesleri dene
            const sameLangVoices = voices.filter(v => v.lang.startsWith(langCode));
            if (sameLangVoices.length > 0) {
                return sameLangVoices[0];
            }
            
            // Sonra benzer dilleri dene
            const similarLangs = {
                'tr': ['az', 'tk'], // Türkçe için Azerice ve Türkmence
                'de': ['nl', 'da'], // Almanca için Hollandaca ve Danca
                'fr': ['it', 'es'], // Fransızca için İtalyanca ve İspanyolca
                'es': ['pt', 'it'], // İspanyolca için Portekizce ve İtalyanca
                'ja': ['ko', 'zh'], // Japonca için Korece ve Çince
                'ru': ['uk', 'bg'], // Rusça için Ukraynaca ve Bulgarca
                'zh': ['ja', 'ko'], // Çince için Japonca ve Korece
                'it': ['es', 'fr']  // İtalyanca için İspanyolca ve Fransızca
            };

            if (similarLangs[langCode]) {
                for (const similarLang of similarLangs[langCode]) {
                    const similarVoices = voices.filter(v => v.lang.startsWith(similarLang));
                    if (similarVoices.length > 0) {
                        return similarVoices[0];
                    }
                }
            }

            // Hiçbir ses bulunamazsa, varsayılan İngilizce sesi dene
            const englishVoices = voices.filter(v => v.lang.startsWith('en'));
            if (englishVoices.length > 0) {
                return englishVoices[0];
            }

            // Son çare olarak ilk bulunan sesi kullan
            return voices[0];
        }

        function findMacVoice(lang, voices) {
            const langCode = lang.split('-')[0];
            
            // Mac için özel ses isimleri
            const macVoices = {
                'tr': ['Yelda', 'native', 'default'],
                'en': ['Daniel', 'Kate', 'Oliver', 'Serena', 'native', 'default'],
                'de': ['Anna', 'Yannick', 'Petra', 'Markus', 'native', 'default'],
                'fr': ['Amelie', 'Thomas', 'native', 'default'],
                'es': ['Monica', 'Jorge', 'native', 'default'],
                'ja': ['Kyoko', 'Otoya', 'native', 'default'],
                'ru': ['Milena', 'Dmitri', 'native', 'default'],
                'zh': ['Ting-Ting', 'Li-Mu', 'native', 'default'],
                'it': ['Alice', 'Luca', 'native', 'default']
            };

            if (macVoices[langCode]) {
                for (const voiceName of macVoices[langCode]) {
                    const voice = voices.find(v => v.voiceURI.includes(voiceName));
                    if (voice) return voice;
                }
            }

            return findDefaultVoice(lang, voices);
        }

        function findWindowsVoice(lang, voices) {
            const langCode = lang.split('-')[0];
            
            // Windows için özel ses isimleri
            const windowsVoices = {
                'tr': ['Microsoft', 'Google', 'native', 'default'],
                'en': ['Hazel', 'George', 'Susan', 'UK', 'native', 'default'],
                'de': ['Microsoft', 'Google', 'native', 'default'],
                'fr': ['Microsoft', 'Google', 'native', 'default'],
                'es': ['Microsoft', 'Google', 'native', 'default'],
                'ja': ['Microsoft', 'Google', 'native', 'default'],
                'ru': ['Microsoft', 'Google', 'native', 'default'],
                'zh': ['Microsoft', 'Google', 'native', 'default'],
                'it': ['Microsoft', 'Google', 'native', 'default']
            };

            if (windowsVoices[langCode]) {
                for (const voiceName of windowsVoices[langCode]) {
                    const voice = voices.find(v => v.voiceURI.includes(voiceName));
                    if (voice) return voice;
                }
            }

            return findDefaultVoice(lang, voices);
        }

                    function findAlternativeVoice(lang, voices) {
                const langPriority = {
                    'de-DE': ['de-DE', 'de-AT', 'de-CH', 'de'],
                    'fr-FR': ['fr-FR', 'fr-CA', 'fr-BE', 'fr'],
                    'es-ES': ['es-ES', 'es-MX', 'es-AR', 'es'],
                    'ja-JP': ['ja-JP', 'ja'],
                    'ru-RU': ['ru-RU', 'ru-UA', 'ru'],
                    'zh-CN': ['zh-CN', 'zh-HK', 'zh-TW', 'zh'],
                    'it-IT': ['it-IT', 'it-CH', 'it']
                };

                // Öncelikli dil varyantlarını kontrol et
                if(langPriority[lang]) {
                    for(const variant of langPriority[lang]) {
                        const voice = voices.find(v => v.lang === variant);
                        if(voice) return voice;
                    }
                }
                
                // Bulunamazsa genel dil koduna göre ara
                const baseLang = lang.split('-')[0];
                return voices.find(v => v.lang.startsWith(baseLang)) || voices[0];
            }

                    function detectBrowser() {
            const ua = navigator.userAgent;
            if(ua.includes('Chrome')) return 'Chrome';
            if(ua.includes('Safari')) return 'Safari';
            if(ua.includes('Firefox')) return 'Firefox';
            return 'Other';
        }
            function setVoiceSettings(lang) {
            const langCode = lang.split('-')[0];
            
            // Dil-spesifik ses ayarları
            const voiceSettings = {
                'tr': { pitch: 1.0, rate: 1.2 },
                'en': { pitch: 1.0, rate: 1.3 },
                'de': { pitch: 0.9, rate: 1.2 },
                'fr': { pitch: 1.0, rate: 1.2 },
                'es': { pitch: 1.0, rate: 1.2 },
                'ja': { pitch: 1.0, rate: 1.1 },
                'ru': { pitch: 1.0, rate: 1.2 },
                'zh': { pitch: 1.0, rate: 1.1 },
                'it': { pitch: 1.0, rate: 1.2 }
            };

            const settings = voiceSettings[langCode] || { pitch: 1.1, rate: 1.0 };
            speech.pitch = settings.pitch;
            speech.rate = Math.min(parseFloat(speedControl.value), settings.rate);
        }

                function showVoicePackageNotification(lang) {
            const langNames = {
                'de-DE': 'Almanca',
                'fr-FR': 'Fransızca',
                'es-ES': 'İspanyolca',
                'ja-JP': 'Japonca',
                'ru-RU': 'Rusça',
                'zh-CN': 'Çince',
                'it-IT': 'İtalyanca'
            };

            const installGuide = {
                'de-DE': {
                    Windows: 'https://support.microsoft.com/tr-tr/help/4028316/windows-change-your-display-language',
                    MacOS: 'https://support.apple.com/tr-tr/guide/mac-help/mchlp1406/mac',
                    Linux: 'https://wiki.archlinux.org/title/Text-to-speech'
                },
                'fr-FR': {
                    Windows: 'https://support.microsoft.com/tr-tr/help/4028316/windows-change-your-display-language',
                    MacOS: 'https://support.apple.com/tr-tr/guide/mac-help/mchlp1406/mac',
                    Linux: 'https://wiki.archlinux.org/title/Text-to-speech'
                },
                // Diğer diller için benzer şekilde ekle
            };

            const os = navigator.platform.includes('Win') ? 'Windows' : 
                    navigator.platform.includes('Mac') ? 'MacOS' : 'Linux';

            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.innerHTML = `
                <div class="notification-content">
                    <span class="notification-icon">⚠️</span>
                    <span class="notification-text">
                        ${langNames[lang]} ses paketi yüklü değil.<br>
                        <a href="${installGuide[lang][os]}" target="_blank" style="color:var(--primary); text-decoration:underline">
                            ${os} için yükleme kılavuzu
                        </a>
                    </span>
                </div>
            `;
            
            document.body.appendChild(notification);
            setTimeout(() => {
                notification.classList.add('fade-out');
                setTimeout(() => notification.remove(), 500);
            }, 5000);
        }

        // Ses yükleme fonksiyonunu güncelle
        function sesleriYukle() {
            return new Promise(resolve => {
                const checkVoices = () => {
                    const availableVoices = window.speechSynthesis.getVoices();
                    if (availableVoices.length > 0) {
                        sesler = availableVoices.sort((a, b) => {
                            const aIsNative = a.voiceURI.includes('native') ? 1 : 0;
                            const bIsNative = b.voiceURI.includes('native') ? 1 : 0;
                            const aIsDefault = a.voiceURI.includes('default') ? 1 : 0;
                            const bIsDefault = b.voiceURI.includes('default') ? 1 : 0;
                            const aIsMicrosoft = a.voiceURI.includes('Microsoft') ? 1 : 0;
                            const bIsMicrosoft = b.voiceURI.includes('Microsoft') ? 1 : 0;
                            const aIsGoogle = a.voiceURI.includes('Google') ? 1 : 0;
                            const bIsGoogle = b.voiceURI.includes('Google') ? 1 : 0;
                            
                            return (bIsNative + bIsDefault + bIsMicrosoft + bIsGoogle) - 
                                   (aIsNative + aIsDefault + aIsMicrosoft + aIsGoogle);
                        });
                        
                        // Tüm sesleri logla
                        console.log('Yüklenen sesler:', sesler.map(s => `${s.name} (${s.lang})`));
                        resolve(sesler);
                    } else {
                        setTimeout(checkVoices, 100);
                    }
                };

                // Önce mevcut sesleri kontrol et
                    checkVoices();
                
                // Sesler değiştiğinde tekrar kontrol et
                    window.speechSynthesis.onvoiceschanged = checkVoices;
            });
        }

        // Sayı formatlama fonksiyonu
        function formatNumberWithDots(number) {
            return number.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");
        }

        // Input değerlerini formatla
        document.getElementById('minValue').addEventListener('input', function(e) {
            let value = e.target.value.replace(/[^\d]/g, '');
            e.target.value = formatNumberWithDots(value);
        });

        document.getElementById('maxValue').addEventListener('input', function(e) {
            let value = e.target.value.replace(/[^\d]/g, '');
            e.target.value = formatNumberWithDots(value);
        });

        // Sayı okuma fonksiyonunda kullanılacak
        function getNumericValue(inputId) {
            const value = document.getElementById(inputId).value.replace(/\./g, '');
            return parseInt(value) || 0;
        }

        function updateHistoryDisplay() {
            const historyList = document.getElementById('historyList');
            historyList.innerHTML = '';
            
            // Sayıları ters sırada göster (en son okunan en üstte)
            [...numberHistory].reverse().forEach(item => {
                const div = document.createElement('div');
                div.className = 'history-item';
                div.innerHTML = `<span class="number">${item.number}</span>`;
                historyList.appendChild(div);
            });

            // Eğer sayı varsa listeyi aktif et
            if (numberHistory.length > 0) {
                historyList.classList.add('active');
            } else {
                historyList.classList.remove('active');
            }
        }

        function addToHistory(number, lang) {
            const formattedNumber = formatNumberWithDots(number);
            
            // Yeni sayıyı başa ekle
            numberHistory.unshift({
                number: formattedNumber,
                lang: lang
            });
            
            // Maksimum 20 sayı tut
            if (numberHistory.length > 20) {
                numberHistory.pop();
            }
            
            updateHistoryDisplay();
        }

        function isChromeOnMac() {
            return navigator.platform.includes('Mac') && /Chrome/.test(navigator.userAgent);
        }

        function startReading() {
            const min = getNumericValue('minValue');
            const max = getNumericValue('maxValue');
            const isChrome = /Chrome/.test(navigator.userAgent);
            const isSafari = /Safari/.test(navigator.userAgent) && !isChrome;
            const isFirefox = /Firefox/.test(navigator.userAgent);
            
            if (min >= max) {
                alert("Maksimum değer minimumdan büyük olmalı!");
                return;
            }
            
            // Önce tüm sesleri ve timeout'ları temizle
            window.speechSynthesis.cancel();
            if(timeoutID) {
                clearTimeout(timeoutID);
                timeoutID = null;
            }
            
            // Geçmişi temizle
            numberHistory = [];
            updateHistoryDisplay();
            
            // Geçmiş başlığını gizle
            document.querySelector('.history-title').style.opacity = '0';
            
            isActive = true;
            document.getElementById('startBtn').disabled = true;
            document.getElementById('stopBtn').disabled = false;
            languageSelect.disabled = true;
            document.getElementById('minValue').disabled = true;
            document.getElementById('maxValue').disabled = true;
            
            // İstatistikleri başlat
            startTime = Date.now();
            totalNumbers = 0;
            updateStats();

            // Tarayıcıya özel başlangıç işlemi
            if (isChrome) {
                // Chrome için özel başlangıç
                const initSpeech = () => {
                    window.speechSynthesis.cancel();
                    
                    setTimeout(() => {
                        const testSpeech = new SpeechSynthesisUtterance(" ");
                        testSpeech.voice = seciliSes;
                        testSpeech.lang = languageSelect.value;
                        testSpeech.rate = 0.8;
                        testSpeech.pitch = 0.9;
                        testSpeech.volume = 1.0;
                        
                        window.speechSynthesis.speak(testSpeech);
                        
                        testSpeech.onend = () => {
                            window.speechSynthesis.cancel();
                            setTimeout(() => {
                                readNumber();
                            }, 300);
                        };
                    }, 300);
                };
                
                initSpeech();
                
                // 2 saniye sonra tekrar dene
                setTimeout(() => {
                    if (isActive && !window.speechSynthesis.speaking) {
                        initSpeech();
                    }
                }, 2000);
            } 
            else if (isSafari) {
                // Safari için özel başlangıç
                const initSpeech = () => {
                    window.speechSynthesis.cancel();
                    
                    setTimeout(() => {
                        const testSpeech = new SpeechSynthesisUtterance(" ");
                        testSpeech.voice = seciliSes;
                        testSpeech.lang = languageSelect.value;
                        testSpeech.rate = 1.0;
                        testSpeech.pitch = 1.0;
                        testSpeech.volume = 1.0;
                        
                        window.speechSynthesis.speak(testSpeech);
                        
                        testSpeech.onend = () => {
                            window.speechSynthesis.cancel();
                            setTimeout(() => {
                                readNumber();
                            }, 200);
                        };
                    }, 200);
                };
                
                initSpeech();
            }
            else if (isFirefox) {
                // Firefox için özel başlangıç
                const initSpeech = () => {
                    window.speechSynthesis.cancel();
                    
                    setTimeout(() => {
                        const testSpeech = new SpeechSynthesisUtterance(" ");
                        testSpeech.voice = seciliSes;
                        testSpeech.lang = languageSelect.value;
                        testSpeech.rate = 1.0;
                        testSpeech.pitch = 1.0;
                        testSpeech.volume = 1.0;
                        
                        window.speechSynthesis.speak(testSpeech);
                        
                        testSpeech.onend = () => {
                            window.speechSynthesis.cancel();
                            setTimeout(() => {
                                readNumber();
                            }, 100);
                        };
                    }, 100);
                };
                
                initSpeech();
            }
            else {
                // Diğer tarayıcılar için normal başlangıç
                setTimeout(() => {
                    readNumber();
                }, 300);
            }

            // Başlatma başarısız olursa kontrol
            setTimeout(() => {
                if (isActive && !window.speechSynthesis.speaking) {
                    console.log('Başlatma başarısız, tekrar deneniyor...');
                    const notification = createNotification('Ses sistemi başlatılamadı. Tekrar deneniyor...', '⚠️');
                    showNotification(notification);
                    
                    // Tekrar dene
                    window.speechSynthesis.cancel();
                    setTimeout(() => {
                        readNumber();
                    }, 500);
                }
            }, 3000);
        }

        function readNumber() {
            if(!isActive) return;
            
            const min = getNumericValue('minValue');
            const max = getNumericValue('maxValue');
            const gecikme = parseFloat(document.getElementById('delayControl').value) * 1000;
            const hiz = parseFloat(document.getElementById('speedControl').value);
            const sayi = Math.floor(Math.random() * (max - min + 1)) + min;
            const secilenDil = languageSelect.value;
            const isMac = navigator.platform.includes('Mac');
            const isChromeMac = isChromeOnMac();

            // Sayıyı formatla ve göster
            const formattedNumber = formatNumberWithDots(sayi);
            const resultDisplay = document.getElementById('resultDisplay');
            resultDisplay.textContent = formattedNumber;
            
            // Vurgulama animasyonu
            resultDisplay.classList.add('highlight');
            setTimeout(() => {
                resultDisplay.classList.remove('highlight');
            }, 1000);

            // Geçmişe ekle
            addToHistory(sayi, secilenDil);

            // Ses sentezini sıfırla
            window.speechSynthesis.cancel();
            
            // Yeni bir SpeechSynthesisUtterance oluştur
            const newSpeech = new SpeechSynthesisUtterance(sayi.toString());
            
            // Chrome on Mac için özel ayarlar
            if (isChromeMac) {
                newSpeech.rate = Math.min(hiz, 1.0);
                newSpeech.pitch = 0.9;
                newSpeech.volume = 1.0;
            } 
            // Normal Mac için ayarlar
            else if (isMac) {
                newSpeech.rate = Math.min(hiz, 1.5);
                newSpeech.pitch = 1.0;
                newSpeech.volume = 1.0;
            } else {
                newSpeech.rate = hiz;
                newSpeech.pitch = 1.1;
            }
            
            newSpeech.voice = seciliSes;
            newSpeech.lang = secilenDil;

            // Sayıyı okut
            try {
                if (isChromeMac) {
                    // Chrome on Mac için özel ses gönderimi
                    setTimeout(() => {
                        window.speechSynthesis.speak(newSpeech);
                        
                        // Ses gönderildikten sonra kontrol
                        setTimeout(() => {
                            if (window.speechSynthesis.paused) {
                                window.speechSynthesis.resume();
                            }
                        }, 800);
                    }, 800);
                } else if (isMac) {
                    // Normal Mac için ses gönderimi
                    setTimeout(() => {
                        window.speechSynthesis.speak(newSpeech);
                        
                        setTimeout(() => {
                            if (window.speechSynthesis.paused) {
                                window.speechSynthesis.resume();
                            }
                        }, 300);
                    }, 300);
                } else {
                    window.speechSynthesis.speak(newSpeech);
                }
            } catch (e) {
                console.error('Ses sentezi hatası:', e);
                setTimeout(() => {
                    window.speechSynthesis.speak(newSpeech);
                }, 300);
            }

            newSpeech.onend = () => {
                if(isActive) {
                    if(timeoutID) clearTimeout(timeoutID);
                    timeoutID = setTimeout(() => {
                        readNumber();
                    }, gecikme);
                }
            };
        }

        function stopReading() {
            const isMac = navigator.platform.includes('Mac');
            
            isActive = false;
            
            // Mac için özel durdurma işlemi
            if (isMac) {
                // Önce tüm sesleri durdur
                window.speechSynthesis.cancel();
                
                // Kısa bir bekleme ekle
                setTimeout(() => {
                    // Tüm timeout'ları temizle
                    if(timeoutID) {
                        clearTimeout(timeoutID);
                        timeoutID = null;
                    }
                    
                    // Ses sistemini tamamen sıfırla
                    window.speechSynthesis.cancel();
                    
                    // UI'ı güncelle
                    document.getElementById('startBtn').disabled = false;
                    document.getElementById('stopBtn').disabled = true;
                    languageSelect.disabled = false;
                    document.getElementById('minValue').disabled = false;
                    document.getElementById('maxValue').disabled = false;
                    
                    // İstatistikleri güncelle
                    if (startTime) {
                        totalTime += (Date.now() - startTime) / 1000;
                        startTime = null;
                    }
                    updateStats();
                }, 100);
            } else {
                // Diğer işletim sistemleri için normal durdurma
                window.speechSynthesis.cancel();
                if(timeoutID) {
                    clearTimeout(timeoutID);
                    timeoutID = null;
                }
                
                document.getElementById('startBtn').disabled = false;
                document.getElementById('stopBtn').disabled = true;
                languageSelect.disabled = false;
                document.getElementById('minValue').disabled = false;
                document.getElementById('maxValue').disabled = false;
                
                if (startTime) {
                    totalTime += (Date.now() - startTime) / 1000;
                    startTime = null;
                }
                updateStats();
            }
        }

        // Event Listeners
        document.getElementById('startBtn').addEventListener('click', () => {
            // Önce ses sistemini kontrol et
            if (!window.speechSynthesis) {
                alert('Tarayıcınız ses sentezi özelliğini desteklemiyor. Lütfen güncel bir tarayıcı kullanın.');
                return;
            }

            // Ses sistemini başlat
            try {
                startReading();
            } catch (error) {
                console.error('Başlatma hatası:', error);
                const notification = createNotification('Başlatma başarısız oldu. Lütfen sayfayı yenileyin.', '⚠️');
                showNotification(notification);
            }
        });

        document.getElementById('stopBtn').addEventListener('click', stopReading);

        // Klavye kısayolları
        document.addEventListener('keydown', (e) => {
            if (e.code === 'Space') {
                e.preventDefault();
                if (isActive) {
                    stopReading();
                } else {
                    startReading();
                }
            }
        });

        // Dil değişikliğinde ses kontrolü
        languageSelect.addEventListener('change', () => {
            // Ses hızını 1x'e sıfırla
                speedControl.value = 1.0;
            speedDisplay.textContent = '1.0x';
            speech.rate = 1.0;
            
            sesiGuncelle();
            if(isActive) {
                window.speechSynthesis.cancel();
                clearTimeout(timeoutID);
                readNumber();
            }
        });

        // Uygulama başlangıcında sesleri yükle
        sesleriYukle().then(() => {
            sesiGuncelle();
            console.log('Mevcut sesler:', sesler.map(s => `${s.name} (${s.lang})`));
        });

        // Safari için ses sentezi düzeltmesi
        window.addEventListener('beforeunload', () => {
            if (window.speechSynthesis) {
                window.speechSynthesis.cancel();
            }
        });

        // Dil çevirileri
        const translations = {
            'tr-TR': {
                title: 'Sayı Okuyucu',
                theme: 'Koyu Mod',
                language: 'Dil Seçimi:',
                range: 'Sayı Aralığı:',
                speed: 'Okuma Hızı:',
                delay: 'Geçiş Süresi:',
                start: 'BAŞLAT',
                stop: 'DURDUR',
                min: 'Min',
                max: 'Max',
                history: 'Okunan Sayılar'
            },
            'en-US': {
                title: 'Number Reader',
                theme: 'Dark Mode',
                language: 'Language:',
                range: 'Number Range:',
                speed: 'Reading Speed:',
                delay: 'Transition Time:',
                start: 'START',
                stop: 'STOP',
                min: 'Min',
                max: 'Max',
                history: 'Read Numbers'
            },
            'en-GB': {
                title: 'Number Reader',
                theme: 'Dark Mode',
                language: 'Language:',
                range: 'Number Range:',
                speed: 'Reading Speed:',
                delay: 'Transition Time:',
                start: 'START',
                stop: 'STOP',
                min: 'Min',
                max: 'Max',
                history: 'Read Numbers'
            },
            'de-DE': {
                title: 'Zahlenleser',
                theme: 'Dunkelmodus',
                language: 'Sprache:',
                range: 'Zahlenbereich:',
                speed: 'Lesegeschwindigkeit:',
                delay: 'Übergangszeit:',
                start: 'STARTEN',
                stop: 'STOPPEN',
                min: 'Min',
                max: 'Max'
            },
            'fr-FR': {
                title: 'Lecteur de Nombres',
                theme: 'Mode Sombre',
                language: 'Langue:',
                range: 'Plage de Nombres:',
                speed: 'Vitesse de Lecture:',
                delay: 'Temps de Transition:',
                start: 'DÉMARRER',
                stop: 'ARRÊTER',
                min: 'Min',
                max: 'Max'
            },
            'es-ES': {
                title: 'Lector de Números',
                theme: 'Modo Oscuro',
                language: 'Idioma:',
                range: 'Rango de Números:',
                speed: 'Velocidad de Lectura:',
                delay: 'Tiempo de Transición:',
                start: 'INICIAR',
                stop: 'DETENER',
                min: 'Min',
                max: 'Max'
            },
            'ja-JP': {
                title: '数字リーダー',
                theme: 'ダークモード',
                language: '言語:',
                range: '数値範囲:',
                speed: '読み上げ速度:',
                delay: '遷移時間:',
                start: '開始',
                stop: '停止',
                min: '最小',
                max: '最大'
            },
            'ru-RU': {
                title: 'Читатель Чисел',
                theme: 'Тёмный Режим',
                language: 'Язык:',
                range: 'Диапазон Чисел:',
                speed: 'Скорость Чтения:',
                delay: 'Время Перехода:',
                start: 'СТАРТ',
                stop: 'СТОП',
                min: 'Мин',
                max: 'Макс'
            },
            'zh-CN': {
                title: '数字阅读器',
                theme: '深色模式',
                language: '语言:',
                range: '数字范围:',
                speed: '阅读速度:',
                delay: '过渡时间:',
                start: '开始',
                stop: '停止',
                min: '最小',
                max: '最大'
            },
            'it-IT': {
                title: 'Lettore di Numeri',
                theme: 'Modalità Scura',
                language: 'Lingua:',
                range: 'Intervallo Numeri:',
                speed: 'Velocità Lettura:',
                delay: 'Tempo Transizione:',
                start: 'AVVIA',
                stop: 'FERMA',
                min: 'Min',
                max: 'Max'
            }
        };

        // Dil değiştirme fonksiyonu
        function updateLanguage(lang) {
            const elements = document.querySelectorAll('.lang-text');
            elements.forEach(element => {
                const key = element.getAttribute('data-key');
                if (translations[lang] && translations[lang][key]) {
                    element.textContent = translations[lang][key];
                }
            });

            // Placeholder'ları güncelle
            document.getElementById('minValue').placeholder = translations[lang].min;
            document.getElementById('maxValue').placeholder = translations[lang].max;
        }

        // Dil seçimi değiştiğinde
        languageSelect.addEventListener('change', () => {
            const selectedLang = languageSelect.value;
            updateLanguage(selectedLang);
            sesiGuncelle();
            if(isActive) {
                window.speechSynthesis.cancel();
                clearTimeout(timeoutID);
                readNumber();
            }
        });

        // Sayfa yüklendiğinde varsayılan dili ayarla
        document.addEventListener('DOMContentLoaded', () => {
            const defaultLang = languageSelect.value;
            updateLanguage(defaultLang);
        });

        // İstatistikleri tutacak değişkenler
        let totalNumbers = 0;
        let totalTime = 0;
        let languageUsage = {};
        let startTime;

        // İstatistikleri güncelle
        function updateStats() {
            document.getElementById('totalNumbers').textContent = totalNumbers;
            document.getElementById('totalTime').textContent = Math.floor(totalTime / 60);
            
            // En çok kullanılan dili bul
            let maxLang = '-';
            let maxCount = 0;
            for (const [lang, count] of Object.entries(languageUsage)) {
                if (count > maxCount) {
                    maxCount = count;
                    maxLang = lang;
                }
            }
            document.getElementById('favoriteLanguage').textContent = maxLang;
        }

        // AdSense reklamlarını yükle
        (adsbygoogle = window.adsbygoogle || []).push({});
        (adsbygoogle = window.adsbygoogle || []).push({});

        // Vercel Analytics React bileşeni
        const Analytics = () => {
            React.useEffect(() => {
                // Analytics başlatma
                window.va?.trackPageView();
                
                // Analytics durumunu kontrol et
                const checkAnalytics = () => {
                    if (window.va) {
                        console.log('Vercel Analytics başarıyla yüklendi');
                        // Analytics verilerini görmek için yönlendirme
                        setTimeout(() => {
                            const notification = document.createElement('div');
                            notification.className = 'notification';
                            notification.innerHTML = `
                                <div class="notification-content">
                                    <span class="notification-icon">📊</span>
                                    <span class="notification-text">
                                        Analytics verilerinizi görmek için Vercel Dashboard'a gidin: 
                                        <a href="https://vercel.com/dashboard" target="_blank" style="color: var(--primary); text-decoration: underline;">
                                            Vercel Dashboard
                                        </a>
                                    </span>
                                </div>
                            `;
                            document.body.appendChild(notification);
                            setTimeout(() => {
                                notification.classList.add('fade-out');
                                setTimeout(() => notification.remove(), 500);
                            }, 10000);
                        }, 30000);
                    } else {
                        console.warn('Vercel Analytics yüklenemedi. Lütfen içerik engelleyicileri kontrol edin.');
                    }
                };

                // Analytics kontrolünü başlat
                checkAnalytics();

                // Sayfa değişikliklerini takip et
                const handleRouteChange = () => {
                    window.va?.trackPageView();
                };

                // Sayfa değişikliklerini dinle
                window.addEventListener('popstate', handleRouteChange);

                return () => {
                    window.removeEventListener('popstate', handleRouteChange);
                };
            }, []);

            return null;
        };

        // Analytics bileşenini render et
        const analyticsRoot = document.createElement('div');
        document.body.appendChild(analyticsRoot);
        ReactDOM.createRoot(analyticsRoot).render(React.createElement(Analytics));
        </script>
    </body>
    </html>